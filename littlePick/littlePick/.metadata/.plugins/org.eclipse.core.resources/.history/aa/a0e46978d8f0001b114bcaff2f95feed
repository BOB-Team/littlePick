package com.littlePick.controller;

import java.util.List;

import javax.servlet.http.HttpServletRequest;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import com.littlePick.domain.AdminVO;
import com.littlePick.service.AdminMemberServiceImpl;


@Controller
public class AdminController {
	

	@Autowired
	AdminMemberServiceImpl adminService;

	/*
	 * @RequestMapping("{url}.do") public String sample(@PathVariable String url) {
	 * return url; }
	 */
	
	// 회원 목록
	@RequestMapping("admin_member.do")
	public void adminMemberList(Model m) {
		List<AdminVO> memberList = adminService.memberList();
		m.addAttribute("memberList",memberList);
	}
	
	// 상품 목록
	@RequestMapping("admin_product.do")
	public void adminProductList(Model m) {
		List<AdminVO> productList = adminService.productList();
	System.out.println(productList.get(0).getProduct_name());
		m.addAttribute("productList", productList);
	}
/*	
	// 게시글 삭제
	@RequestMapping(value = "/delete")
	public String ajaxTest(HttpServletRequest request) {
		
		String[] ajaxMsg = request.getParameterValues("valueArr");
		int size = ajaxMsg.length;
		
		return "redirect:list";
		
	}
	*/
	//회원 추가
	@RequestMapping("memberWrite.do")
	public void insertMember(AdminVO vo) {
		adminService.insertAdminMember(vo);
	}
	
	
//	@RequestMapping("1_register.do")
//	public String registerMember(AdminVO vo) {
//		return "1_register.do";
//	}
	
	// 상품 삭제
	@RequestMapping("productDelete.do")
	public String deleteProduct(AdminVO vo) {
		adminService.deleteAdminMember1(vo);
		return "redirect:admin_product.do";
	}
	
	// 상품 수정
	@RequestMapping("productUpdate.do")
	public String updateProduct(AdminVO vo) {
		adminService.updateAdminMember1(vo);
		return "redirect:admin_product.do";
	}
	
	
}
